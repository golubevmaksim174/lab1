/* ========== ОБЩИЕ СТИЛИ ========== */
body {
    font-family: sans-serif;
    text-align: center;
    background: #e0f7fa; /* Светло-голубой фон как у воды */
    padding: 20px;
}

h1, h2 {
    color: #01579b;
}

.scene, .cannon-scene {
    margin: 40px auto;
    position: relative;
    width: 600px;
    height: 300px;
    border-bottom: 3px solid #0288d1; /* Линия горизонта воды */
}

/* ========== ПОДВОДНАЯ ЛОДКА ========== */
.submarine {
    position: absolute;
    left: 100px;
    top: 120px;
    width: 300px;
}

/* Корпус (основное тело) */
.hull {
    width: 250px;
    height: 60px;
    background: linear-gradient(to right, #78909c, #b0bec5, #78909c);
    border-radius: 30px 100px 100px 30px; /* Заостренный нос */
    position: absolute;
}

/* Рубка (башня) */
.tower {
    width: 60px;
    height: 80px;
    background: #546e7a;
    border-radius: 10px 10px 0 0;
    position: absolute;
    left: 120px;
    top: -50px;
}

/* Носовая часть (еще один элемент для формы) */
.bow {
    width: 40px;
    height: 40px;
    background: #37474f;
    border-radius: 50%;
    position: absolute;
    left: 250px;
    top: 10px;
}

/* Винт */
.propeller {
    width: 30px;
    height: 30px;
    background: #263238;
    border-radius: 50%;
    position: absolute;
    left: 0;
    top: 15px;
}
.propeller::before, .propeller::after {
    content: '';
    position: absolute;
    width: 40px;
    height: 10px;
    background: #263238;
    border-radius: 5px;
    top: 10px;
    left: -5px;
}
.propeller::before {
    transform: rotate(90deg);
}

/* Иллюминаторы */
.window {
    width: 20px;
    height: 20px;
    background: #4fc3f7; /* Светло-голубой, как стекло */
    border-radius: 50%;
    border: 3px solid #01579b;
    position: absolute;
    top: 20px;
}
.w1 { left: 180px; }
.w2 { left: 140px; }
.w3 { left: 100px; }

/* Волны */
.wave {
    position: absolute;
    bottom: -10px;
    width: 100%;
    height: 20px;
    background: repeating-linear-gradient(
        to right,
        transparent,
        transparent 10px,
        #0288d1 10px,
        #0288d1 20px
    );
}
/* ========== АНИМАЦИЯ: ВЫСТРЕЛ ИЗ ПУШКИ ========== */
.cannon-scene {
    height: 200px;
    background: #f5f5f5;
    border: 1px dashed #ccc;
}

/* Пушка (ствол) */
.cannon {
    position: absolute;
    left: 50px;
    bottom: 50px;
    width: 80px;
    height: 30px;
    background: #5d4037;
    border-radius: 5px 15px 15px 5px;
    transform-origin: left center; /* Точка вращения - сзади */
}
/* Лафет пушки */
.cannon::before {
    content: '';
    position: absolute;
    width: 20px;
    height: 40px;
    background: #3e2723;
    bottom: -10px;
    left: -10px;
    border-radius: 5px;
}

/* Снаряд (шар) */
.cannon-ball {
    position: absolute;
    left: 120px; /* Начальная позиция у дула пушки */
    bottom: 60px;
    width: 20px;
    height: 20px;
    background: #212121;
    border-radius: 50%;
    /* Анимация выстрела и попадания */
    animation: fireAndHit 3s ease-in-out 1s infinite; /* Задержка 1с, повтор бесконечно */
}

/* Мишень */
.target {
    position: absolute;
    right: 100px;
    bottom: 40px;
    width: 60px;
    height: 60px;
}
/* Круги мишени */
.target::before, .target::after {
    content: '';
    position: absolute;
    border-radius: 50%;
    border: 5px solid #d32f2f;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
}
.target::after {
    width: 70%;
    height: 70%;
    margin: auto;
    border-color: #d32f2f transparent transparent transparent;
}

/* Анимация полета снаряда */
@keyframes fireAndHit {
    0% {
        transform: translate(0, 0); /* Стоит у дула */
        background: #212121;
    }
    15% {
        transform: translate(200px, -100px) scale(1.2); /* Выстрел, полет по дуге */
        background: #ff9800; /* Снаряд нагрелся */
    }
    30% {
        transform: translate(380px, 0); /* Попадание в мишень */
        background: #f44336;
        opacity: 1;
        width: 20px;
        height: 20px;
    }
    33% {
        /* Момент удара - "взрыв" */
        opacity: 0.8;
        width: 40px;
        height: 40px;
        margin-left: -10px;
        margin-top: -10px;
    }
    36%, 100% {
        /* Снаряд исчезает, мишень дергается */
        opacity: 0;
        width: 20px;
        height: 20px;
        transform: translate(380px, 0);
    }
}

/* Анимация "вздрагивания" мишени при попадании */
.target {
    animation: targetHit 3s 1s infinite; /* Синхронно с выстрелом */
}
@keyframes targetHit {
    30%, 36% { /* Когда шар попадает (30%) и немного после */
        transform: translateX(5px) rotate(5deg);
    }
    33%, 39% {
        transform: translateX(-5px) rotate(-5deg);
    }
    42%, 100% {
        transform: translateX(0) rotate(0deg);
    }
}